PrefixDB - демон префиксного key-value хранилища на базе RocksDB
=========

Демон предоставляет jsonrpc-интерфейс к набору key-value хранилищ определямых префиксом. 
По сути префикс - это имя каталога файловой системы, где распологаются файлы 
хранилища для этого префикса. Он указывается в каждом запросе. Более подробное описание 
в модуле [wfc_prefixdb](http://github.lan/cpp/wfc_prefixdb), где и реализован основной функционал.

Непосредственно демон реализован на фреймворке WFC-0.8.1 и, соответсвенно, доступны все возможности этого фреймворка, 
включая репликацию на сетевом уровне, как в демоне LevelDB. Но RocksDB предоставляет более
надежные механизмы репликации на уровне файловой системы. 

RocksDB - это активно развивающийся проект facebook, изначально форк проекта LevelDB от google,
с существенными дополнениями. По мимо встроеных механизмов бэкапов (в том числе инкрементальных),
и множества дополнительных настроек, RocksDB предоставляет механизм мерджинга, который позволяет
полностью избавиться от блокировок ключей для модифицирующих операций, требующих предварительного
получения значения (например инкрементальных). Это потребовало существенных изменний в логике работы 
демона, поэтому некоторые операции, аналогичные LevelDB, работают иначе. Внимательнее читайте 
описание API для [wfc_prefixdb](http://github.lan/cpp/wfc_prefixdb).

# Исходный код и компиляция

```bash
git clone git@github.lan:cpp/prefixdbd.git
cd prefixdbd
make static
```

или

```bash
make shared
```


### Installing gcc 4.8 and Linuxbrew on CentOS 6

https://gist.github.com/stephenturner/e3bc5cfacc2dc67eca8b

```bash
scl enable devtoolset-2 bash
export PORTABLE=1
mkdir build
cd build
cmake ..
make
cd ./Release/
```
